<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>å¡é—œæª¢æ¸¬äº’å‹•</title>
  <style>
    :root {
      /* å“ç‰Œæš–è‰²ç³»é…è‰²ï¼šä»¥æ©˜ç´…ç‚ºä¸»è‰²ï¼Œæ­é…æš–é»ƒç‚ºè¼”è‰²ï¼Œç‡Ÿé€ æº«é¦¨ã€é«˜ç´šæ„Ÿã€‚ */
      --primary-color: #d0502a;     /*ä¸»è‰²ï¼šæ·±æ©˜ç´…ï¼Œç”¨æ–¼æŒ‰éˆ•ã€æ¨™é¡Œ*/
      --primary-light: #dd6726;     /*æ¬¡è‰²ï¼šæš–æ©˜è‰²ï¼Œç”¨æ–¼æŒ‰éˆ• hoverã€æ¬¡è¦æŒ‰éˆ•*/
      --primary-dark: #9a3a22;      /*åŠ æ·±è‰²ï¼šé‡é»æ–‡å­—*/
      --accent-color: #efa93b;      /*è¼”åŠ©è‰²ï¼šé‡‘é»ƒè‰²ï¼Œç”¨æ–¼é»ç¶´ã€æ¨™é¡Œåº•ç·š*/
      --background-color: #fff9f0;  /*èƒŒæ™¯ï¼šæ·¡æè‰²ï¼Œç‡Ÿé€ æŸ”å’Œæº«æš–çš„åŸºèª¿*/
      --card-background: #ffffff;   /*å¡ç‰‡èƒŒæ™¯ï¼šç´”ç™½ï¼Œå°æ¯”ä¸»è‰²*/
      --text-color: #333333;        /*æ–‡å­—é¡è‰²ï¼šæ·±ç°ï¼Œæé«˜é–±è®€æ€§*/
      /* æ–°å¢é¸é …é…è‰²ï¼Œä½¿äº’å‹•æŒ‰éˆ•èƒŒæ™¯æ›´æŸ”å’Œ */
      --option-bg: #fff3e8;
      --option-hover-bg: #ffe5d4;
      --option-selected-bg: #ffe9d5;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, "Helvetica Neue", Helvetica, Arial, sans-serif;
      margin: 0;
      background-color: var(--background-color);
      color: var(--text-color);
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      line-height: 1.6;
    }

    /* é¦–é æ¨™èªæ¨£å¼ */
    .tagline {
      font-size: 1rem;
      font-weight: 600;
      /* ä¸»æ¨™èªä½¿ç”¨ä¸»è‰²å¢å¼·è¾¨è­˜åº¦ */
      color: var(--primary-color);
      margin: 0.6rem auto 0.3rem;
      max-width: 600px;
    }
    .tagline-sub {
      font-size: 0.95rem;
      /* å‰¯æ¨™èªä½¿ç”¨è¼”åŠ©è‰²å‘¼æ‡‰æ ¸å¿ƒç†å¿µ */
      color: var(--primary-light);
      margin: 0.2rem auto 0.8rem;
      max-width: 600px;
    }
    .intro-call {
      font-size: 0.95rem;
      color: var(--primary-dark);
      margin-bottom: 1rem;
    }
    .container {
      width: 95%;
      max-width: 740px;
      background: var(--card-background);
      border-radius: 16px;
      box-shadow: 0 6px 24px rgba(0, 0, 0, 0.05);
      padding: 2.4rem 2rem;
      box-sizing: border-box;
      text-align: center;
      margin: 1rem auto;
    }

    h2, h3 {
      margin-top: 0;
    }

    #intro h2 {
      color: var(--primary-dark);
    }

    button, .option {
      display: block;
      width: 100%;
      margin: 0.8rem 0;
      padding: 0.9rem 1.2rem;
      font-size: 1rem;
      border: none;
      border-radius: 10px;
      /* æŒ‰éˆ•ä»ä½¿ç”¨ä¸»è‰²ï¼›é¸é …æŒ‰éˆ•çš„é¡è‰²åœ¨ä¸‹æ–¹å–®ç¨è¦†è“‹ */
      background-color: var(--primary-color);
      color: #fff;
      cursor: pointer;
      transition: background-color 0.25s ease, transform 0.15s ease;
    }

    /* é¸é …æŒ‰éˆ•å–®ç¨å®šç¾©ï¼šä½¿ç”¨æ›´æŸ”å’Œçš„èƒŒæ™¯ï¼Œä»¥æé«˜å¯è®€æ€§ */
    .option {
      background-color: var(--option-bg);
      color: var(--primary-dark);
      border: 1px solid var(--primary-light);
    }
    .option:hover {
      background-color: var(--option-hover-bg);
      color: var(--primary-dark);
    }

    /* èª¿æ•´ä¸€èˆ¬æŒ‰éˆ•èˆ‡é¸é … hover æ•ˆæœï¼Œä½¿é¡è‰²ä¸è‡³æ–¼å¤ªé‡ */
    button:hover {
      background-color: var(--primary-light);
      color: #fff;
    }
    .option:hover {
      background-color: var(--option-hover-bg);
      color: var(--primary-dark);
    }

    .option.selected {
      /* é¸é …è¢«é»é¸å¾Œçš„é¡è‰²ï¼šä½¿ç”¨æŸ”å’Œçš„é¸ä¸­èƒŒæ™¯è‰²ï¼Œè®“æ–‡å­—æ›´æ˜“é–±è®€ */
      background-color: var(--option-selected-bg);
      color: var(--primary-dark);
      border-color: var(--primary-light);
      transform: scale(1.03);
    }

    .hidden {
      display: none;
    }

    .feedback {
      margin-top: 0.5rem;
      font-size: 0.95rem;
      color: var(--primary-dark);
      font-weight: 500;
    }

    /* çµæœå¡ç‰‡ */
    .result-title {
      font-size: 1.6rem;
      color: var(--primary-dark);
      margin-bottom: 0.5rem;
    }

    .result-description {
      margin-bottom: 1rem;
      line-height: 1.5;
      font-size: 1rem;
      white-space: pre-line;
    }

    .cta {
      margin-top: 1.8rem;
      font-size: 1rem;
      color: var(--primary-dark);
    }

    @media (prefers-color-scheme: dark) {
      :root {
        --background-color: #1f1f1f;
        --card-background: #2a2a2a;
        --text-color: #eaeaea;
      }
    }

    /* éŸ¿æ‡‰å¼å­—é«”èˆ‡é–“è·ï¼Œè®“å°è¢å¹•ä¹Ÿæ˜“æ–¼é–±è®€ */
    @media (max-width: 600px) {
      .container {
        padding: 1.6rem 1.2rem;
      }
      h2 {
        font-size: 1.4rem;
      }
      h3 {
        font-size: 1.2rem;
      }
      button,
      .option {
        padding: 0.8rem 1rem;
        font-size: 0.9rem;
      }
      .result-title {
        font-size: 1.4rem;
      }
      .result-description {
        font-size: 0.95rem;
      }
      .next-btn,
      .download-btn,
      .consult-btn {
        font-size: 0.85rem;
        padding: 0.7rem 1rem;
      }
    }

    /* æ–°å¢æŒ‰éˆ•æ¨£å¼ */
    .next-btn, .download-btn, .consult-btn {
      display: inline-block;
      margin: 1rem 0.5rem;
      padding: 0.8rem 1.2rem;
      font-size: 0.9rem;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      transition: background-color 0.2s ease;
    }

    .next-btn {
      /* ä½¿ç”¨è¼”åŠ©è‰²ä½œç‚ºä¸‹ä¸€é¡ŒæŒ‰éˆ•åº•è‰²ï¼Œæ–‡å­—è‰²æ¡é‡é»æ·±è‰² */
      background-color: var(--accent-color);
      color: var(--primary-dark);
    }

    .download-btn {
      /* ä¸‹è¼‰æŒ‰éˆ•ä½¿ç”¨è¼”åŠ©è‰²ï¼Œä½¿é¡è‰²æ›´æŸ”å’Œã€æ¸…æ™° */
      background-color: var(--accent-color);
      color: var(--primary-dark);
    }

    .consult-btn {
      /* æ´»æ½‘çš„è«®è©¢æŒ‰éˆ•ï¼šä½¿ç”¨è¼”åŠ©è‰²ï¼Œæ–‡å­—ç‚ºæ·±è‰²ï¼Œä¸¦ç•¥åŠ å¤§å°ºå¯¸ */
      background-color: var(--accent-color);
      color: var(--primary-dark);
      text-decoration: none;
      padding: 0.9rem 1.6rem;
      font-weight: 600;
      border-radius: 8px;
    }

    .next-btn:hover {
      /* Hover æ™‚æ”¹ç”¨ä¸»è‰²ï¼Œæ–‡å­—è®Šç™½ä»¥æå‡å°æ¯” */
      background-color: var(--primary-color);
      color: #fff;
    }

    .download-btn:hover {
      background-color: var(--primary-dark);
      color: #fff;
    }

    .consult-btn:hover {
      background-color: var(--primary-color);
      color: #fff;
      transform: scale(1.05);
    }

    
    /* æ¨¡çµ„åŒ–è³‡æºå¡ç‰‡æ¨£å¼ */
    .resource-grid {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 1rem;
      margin: 1rem 0;
    }
    .resource-card {
      flex: 1 1 calc(33% - 1rem);
      background-color: var(--option-bg);
      border: 1px solid var(--accent-color);
      border-radius: 12px;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.05);
      padding: 1rem;
      text-align: center;
      min-width: 200px;
      /* ä¿ç•™ 3D æ•ˆæœä»¥æ”¯æ´ç¿»ç‰Œå‹•ç•« */
      transform-style: preserve-3d;
      /* æ–°å¢å‹•ç•«éæ¸¡æ•ˆæœï¼Œæ»‘é¼ ç§»å…¥æ™‚æ”¾å¤§ä¸¦æå‡é™°å½± */
      transition: transform 0.4s ease, box-shadow 0.4s ease;
    }
    .resource-card h4 {
      margin-top: 0.4rem;
      font-size: 1rem;
      color: var(--primary-color);
    }
    .resource-card p {
      font-size: 0.9rem;
      color: var(--primary-dark);
      margin-top: 0.3rem;
    }
/* é‡å°ä¸‹è¼‰æŒ‰éˆ•èˆ‡é‡æ–°é–‹å§‹æŒ‰éˆ•é‡æ–°å®šç¾©åº•è‰²ï¼Œæé«˜å¯è®€æ€§ */
    #download-btn {
      background-color: var(--primary-light);
      color: var(--primary-dark);
    }
    #download-btn:hover {
      background-color: var(--primary-color);
      color: #fff;
    }
    #restart-btn {
      background-color: var(--accent-color);
      color: var(--primary-dark);
    }
    #restart-btn:hover {
      background-color: var(--primary-dark);
      color: #fff;
    }

    /* æç¤ºæ¡†æ¨£å¼ï¼šåœ¨å•é¡Œä¸Šæ–¹é¡¯ç¤ºå›é¥‹ï¼Œæ¡ç”¨è¼•æŸ”åº•è‰²èˆ‡ç´°é‚Šæ¡† */
    #hint-box {
      display: none;
      padding: 0.8rem 1rem;
      margin-bottom: 1rem;
      border-radius: 10px;
      background-color: #fff5ec;
      border: 1px solid var(--accent-color);
      color: var(--primary-dark);
      font-size: 0.95rem;
      line-height: 1.4;
    }

    /* è¼‰å…¥å‹•ç•«ï¼šèƒ½é‡åœ“åœˆæ“´æ•£æ•ˆæœ */
    #loading {
      display: none;
      align-items: center;
      justify-content: center;
      flex-direction: column;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(255, 245, 236, 0.95);
      z-index: 9999;
      color: var(--primary-dark);
      text-align: center;
    }
    #loading .loading-text {
      font-size: 1.1rem;
      font-weight: bold;
      margin-bottom: 1.2rem;
    }
    #loading .circle {
      width: 120px;
      height: 120px;
      border-radius: 50%;
      background: var(--primary-light);
      position: relative;
      overflow: hidden;
    }
    #loading .circle::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      border-radius: 50%;
      /* ä½¿ç”¨æ¼¸å±¤èƒŒæ™¯ï¼Œå‘ˆç¾èƒ½é‡ç”±ä¸­å¿ƒå‘å¤–æ“´æ•£ */
      background: radial-gradient(circle, var(--accent-color) 0%, rgba(239,169,59,0) 70%);
      /* åŠ å¿«èƒ½é‡åœ“åœˆçš„å‘¼å¸ç¯€å¥ï¼šå°‡å‹•ç•«æ™‚é–“ç”± 2s èª¿æ•´ç‚º 1sï¼Œä½¿æ“´æ•£æ”¶ç¸®æ›´ç‚ºæ´»æ½‘ */
      animation: pulse 1s infinite ease-in-out;
    }
    @keyframes pulse {
      /* èƒ½é‡åœ“åœˆå‘¼å¸å‹•æ…‹ï¼šæ›´æ˜é¡¯çš„ä¼¸ç¸®è®ŠåŒ– */
      0% {
        transform: scale(0.5);
        opacity: 0.8;
      }
      50% {
        transform: scale(1.7);
        opacity: 0.3;
      }
      100% {
        transform: scale(0.5);
        opacity: 0.8;
      }
    }

    /* çµæœé é™„åŠ å€åŸŸæ¨£å¼ */
    #consultation-info, #skool-info {
      margin: 1.5rem 0;
      text-align: center;
    }
    #consultation-info p, #skool-info p, #skool-info ul {
      margin: 0.6rem 0;
      line-height: 1.5;
      font-size: 0.95rem;
      color: var(--primary-dark);
    }
    #consultation-info strong {
      font-weight: bold;
    }
    #skool-info ul {
      list-style-type: disc;
      padding-left: 1.2rem;
      text-align: left;
      display: inline-block;
    }
    #skool-info ul li {
      margin: 0.4rem 0;
    }

    /* ä¸‹è¼‰èªªæ˜èˆ‡è«®è©¢å€å¡Šï¼šèˆ‡å…¶ä»–å€å¡Šä¿æŒä¸€è‡´çš„é–“è·èˆ‡æ–‡å­—æ¨£å¼ */
    #download-info, #consultation-section {
      margin: 1.5rem 0;
      text-align: center;
    }
    #download-info p, #consultation-section p {
      margin: 0.6rem 0;
      line-height: 1.5;
      font-size: 0.95rem;
      color: var(--primary-dark);
    }

    /* è«®è©¢æ¸…å–®æ¨£å¼ */
    .consult-list {
      list-style-type: disc;
      margin: 0.6rem auto;
      padding-left: 1.2rem;
      max-width: 640px;
      text-align: left;
      color: var(--primary-dark);
    }
    .consult-list li {
      margin: 0.3rem 0;
      font-size: 0.9rem;
    }

    /* è‡ªè¨‚æ¸…å–®é …ç›®çš„ç¬¦è™Ÿé¡è‰²ï¼Œè®“æ¨™è¨˜å‘¼æ‡‰å“ç‰Œè‰² */
    .consult-list li::marker {
      color: var(--accent-color);
    }
    #skool-info ul li::marker {
      color: var(--accent-color);
    }

    /* çµæœå€åŸŸå„æ¨¡çµ„èƒŒæ™¯è¨­å®šï¼šåˆ†æ®µå‘ˆç¾ï¼Œå€éš”è³‡è¨Šå°è±¡ */
    #download-info, #consultation-section, #skool-info {
      background-color: #fff5ec;
      border: 1px solid #ffdccc;
      border-radius: 12px;
      padding: 1.4rem 1.2rem;
      margin: 1.6rem auto;
      max-width: 680px;
      box-sizing: border-box;
    }

    /* æ•…äº‹æ•˜è¿°å€å…§æ–‡ç½®ä¸­é¡¯ç¤ºï¼Œå¢é€²é–±è®€æ€§ */
    #story-box p {
      margin: 0.6rem 0;
      text-align: center;
      line-height: 1.6;
      white-space: pre-line;
    }
    .join-btn {
      display: inline-block;
      margin-top: 1rem;
      padding: 0.8rem 1.4rem;
      border-radius: 8px;
      /* Skool åŠ å…¥æŒ‰éˆ•ä½¿ç”¨è¼”åŠ©è‰²ä¸¦ç½®ä¸­é¡¯ç¤ºï¼Œå‘ˆç¾æ´»æ½‘æ„Ÿ */
      background-color: var(--accent-color);
      color: var(--primary-dark);
      text-decoration: none;
      font-size: 1rem;
      transition: background-color 0.2s ease, transform 0.15s ease;
    }
    .join-btn:hover {
      background-color: var(--primary-color);
      color: #fff;
      transform: scale(1.05);
    }

    /* é¦–é ä»‹ç´¹åˆ—è¡¨æ¨£å¼ */
    #intro ul.intro-list {
      list-style-type: disc;
      margin: 1rem auto;
      padding-left: 1.2rem;
      text-align: left;
      max-width: 600px;
    }
    #intro ul.intro-list li {
      margin: 0.4rem 0;
      font-size: 0.95rem;
      color: var(--primary-dark);
    }

    /* çµæœå¡ç‰‡æ¨£å¼ */
    .result-card {
      /* ä½¿ç”¨æ·ºè‰²èƒŒæ™¯èˆ‡é‚Šæ¡†ä½¿çµæœå ±å‘Šèˆ‡èƒŒæ™¯å€éš”ï¼Œä¸¦å¢å¤§å…§é‚Šè·çµ¦äºˆå®‰å…¨ç©ºé–“ */
      background-color: #fff5ec;
      border: 1px solid #ffdccc;
      border-radius: 16px;
      padding: 2rem 1.6rem;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.04);
      margin: 1.6rem auto;
      position: relative;
      max-width: 680px;
    }
    .result-header {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 10px;
      background-color: var(--accent-color);
      border-top-left-radius: 16px;
      border-top-right-radius: 16px;
    }

    /* é€²åº¦æ¢æ¨£å¼ */
    .progress {
      width: 100%;
      height: 8px;
      background-color: #e5e5e5;
      border-radius: 4px;
      margin-bottom: 1rem;
      overflow: hidden;
    }
    .progress-inner {
      height: 100%;
      width: 0%;
      background-color: var(--accent-color);
      border-radius: 4px;
      transition: width 0.3s ease;
    }

    /* é€²åº¦é»æ¨£å¼ï¼šé¡¯ç¤ºæ¯ä¸€é¡Œçš„ä½ç½® */
    .progress-dots {
      display: flex;
      justify-content: center;
      align-items: center;
      margin-bottom: 0.8rem;
    }
    .dot {
      width: 10px;
      height: 10px;
      border-radius: 50%;
      background-color: #e5e5e5;
      margin: 0 4px;
      transition: background-color 0.3s ease;
    }
    .dot.active {
      background-color: var(--accent-color);
    }

    /* è½‰æ›å‹•ç•«å®¹å™¨ï¼šå‰å¾Œå°æ¯”åœ–äº¤æ›¿é¡¯ç¤º */
    .trans-animation {
      position: relative;
      width: 100%;
      max-width: 320px;
      height: 200px;
      margin: 1rem auto;
      overflow: hidden;
    }
    .trans-animation img {
      position: absolute;
      width: 100%;
      height: 100%;
      top: 0;
      left: 0;
      object-fit: contain;
      opacity: 0;
    }
    .trans-animation img.before {
      animation: fadeOutIn 8s infinite;
    }
    .trans-animation img.after {
      animation: fadeInOut 8s infinite;
    }
    @keyframes fadeOutIn {
      0% { opacity: 1; }
      45% { opacity: 1; }
      50% { opacity: 0; }
      95% { opacity: 0; }
      100% { opacity: 1; }
    }
    @keyframes fadeInOut {
      0% { opacity: 0; }
      45% { opacity: 0; }
      50% { opacity: 1; }
      95% { opacity: 1; }
      100% { opacity: 0; }
    }

    /* å‹•ç•«æ•ˆæœ */
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    @keyframes fadeOut {
      from { opacity: 1; }
      to { opacity: 0; }
    }
    .fade-in {
      animation: fadeIn 0.5s forwards;
    }
    .fade-out {
      animation: fadeOut 0.4s forwards;
    }

    /* é€²åº¦æ¨™ç±¤æ¨£å¼ï¼šé¡¯ç¤ºç•¶å‰é¡Œæ•¸/ç¸½é¡Œæ•¸ */
    .progress-label {
      font-size: 0.9rem;
      color: var(--primary-dark);
      margin-top: 0.3rem;
      margin-bottom: 0.8rem;
      text-align: center;
    }

    /* è³‡æºå¡ç‰‡ hover æ•ˆæœï¼šæ”¾å¤§ä¸¦å¢åŠ é™°å½± */
    .resource-card:hover {
      /* é¼ æ¨™æ»‘å…¥è³‡æºå¡æ™‚ï¼Œå¾®å¾®ç¿»è½‰ä¸¦æ”¾å¤§ï¼Œå¢åŠ äº’å‹•æ„Ÿ */
      transform: translateY(-6px) scale(1.1) rotateY(7deg);
      box-shadow: 0 12px 24px rgba(0, 0, 0, 0.15);
    }

    /* Hero åœ–ç‰‡ hover æ•ˆæœ */
    .hero-image img {
      transition: transform 0.4s ease;
    }
    .hero-image:hover img {
      transform: scale(1.05);
    }

    /* çµæœåœ– hover æ•ˆæœ */
    .result-image-container img {
      /* èª¿æ•´çµæœåœ–ç‰‡å°ºå¯¸ç‚ºè‡ªå‹•é«˜åº¦ä¸¦å®Œæ•´å‘ˆç¾ï¼Œä¸è£åˆ‡ */
      transition: transform 0.3s ease;
      width: 100%;
      height: auto;
      max-height: 320px;
      object-fit: contain;
      display: block;
    }
    .result-image-container:hover img {
      transform: scale(1.05);
    }

    /* CTA é«˜äº®å€å¡Š */
    .cta-highlight {
      background-color: #fff3e8;
      border: 1px solid #ffdccc;
      border-radius: 14px;
      padding: 1.2rem;
      margin-top: 1.6rem;
      box-shadow: 0 2px 8px rgba(0,0,0,0.05);
      text-align: left;
    }
    .cta-highlight h4 {
      margin: 0 0 0.6rem;
      color: var(--primary-color);
      font-size: 1.05rem;
      font-weight: 600;
    }
    .cta-highlight ul {
      list-style: none;
      padding-left: 0;
      margin: 0.6rem 0 1rem;
    }
    .cta-highlight ul li {
      display: flex;
      align-items: flex-start;
      margin: 0.4rem 0;
      font-size: 0.9rem;
      color: var(--primary-dark);
    }
    .cta-highlight ul li span {
      margin-right: 0.6rem;
      font-size: 1.4rem; /* æ”¾å¤§è¡¨æƒ…ç¬¦è™Ÿï¼Œä½¿ CTA åˆ—è¡¨æ›´å¸ç› */
    }
    .cta-highlight ul li {
      font-size: 1rem; /* æé«˜ CTA å…§æ–‡å­—é«”å¤§å°ï¼Œå¼·èª¿äº®é» */
    }
    .cta-highlight p {
      font-size: 0.95rem; /* èª¿æ•´ CTA å…§æ®µè½å­—é«” */
    }
    .cta-highlight .special-cta {
      display: inline-block;
      margin-top: 1rem;
      padding: 0.9rem 1.8rem;
      border-radius: 14px;
      font-size: 1.1rem;
      font-weight: 600;
      color: #fff;
      text-decoration: none;
      /* ä½¿ç”¨æ¼¸å±¤èƒŒæ™¯è®“ CTA æ›´é¡¯çœ¼ */
      background-image: linear-gradient(135deg, var(--primary-color) 0%, var(--accent-color) 100%);
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }
    .cta-highlight .special-cta:hover {
      transform: translateY(-2px) scale(1.05);
      box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
    }

    /* CTA å€åŸŸæ©«å‘æ’åˆ—ï¼šå·¦å´ç‚ºæ–‡å­—èˆ‡æŒ‰éˆ•ï¼Œå³å´ç‚ºè½‰è®Šç¤ºæ„åœ– */
    .cta-row {
      display: flex;
      flex-wrap: wrap;
      align-items: center;
      justify-content: space-between;
      gap: 1.2rem;
    }
    .cta-content {
      flex: 1 1 55%;
    }
    .cta-image {
      flex: 1 1 40%;
      display: flex;
      justify-content: center;
    }
    .cta-image .trans-animation {
      width: 100%;
      max-width: 300px;
      height: 200px;
    }
  </style>
</head>
<body>
  <div class="container">
      <!-- è¼‰å…¥è¦†è“‹å±¤ï¼Œç”¨æ–¼ç”Ÿæˆçµæœæ™‚çš„éå ´å‹•ç•« -->
      <div id="loading">
        <div class="loading-text">ç”Ÿæˆå°ˆå±¬å ±å‘Šä¸­...</div>
        <div class="circle"></div>
      </div>
    <!-- é¦–é ä»‹ç´¹ -->
    <div id="intro">
      <!-- Hero å€åŸŸï¼šæ¨™é¡Œã€å‰¯æ¨™ã€æ•˜è¿°èˆ‡è¡Œå‹•è™Ÿå¬ -->
      <div class="hero-section" style="padding:2.4rem 0 1.6rem;">
        <h1 class="hero-title" style="font-size:2rem;margin-bottom:0.4rem;color:var(--primary-dark);font-weight:700;">BeBetter&nbsp;å¡é—œæª¢æ¸¬</h1>
        <h2 class="hero-subtitle" style="font-size:1.4rem;color:var(--primary-color);font-weight:600;margin-top:0;margin-bottom:0.8rem;">2 åˆ†é˜æ‰¾åˆ°ä½ çš„æ¸›è„‚å¡é—œé»</h2>
        <p class="hero-desc" style="font-size:1rem;color:var(--primary-dark);max-width:640px;margin:0 auto 1.2rem;line-height:1.6;">
          æ¸›è„‚ä¸æ˜¯çŸ¥è­˜çš„å•é¡Œï¼Œè€Œæ˜¯è¡Œç‚ºçš„ç“¶é ¸ã€‚<br>åœ¨é€™è£¡ï¼Œä½ æœƒæ‰¾åˆ°çªç ´å¡é—œçš„æ–¹æ³•ã€‚
        </p>
        <!-- å¯ä»¥è‡ªè¡Œæ›¿æ›çš„ Hero åœ–ç‰‡ï¼šæ¡ç”¨é«˜è³ªæ„Ÿé‚Šæ¡†èˆ‡æŸ”å’Œé™°å½±ä½œç‚ºç•™ç™½ï¼Œè‹¥ç„¡åœ–ç‰‡å¯ä¿ç•™æ­¤æ¡†æ¶ -->
        <div class="hero-image" style="max-width:720px;margin:0 auto 1.4rem;border:1px solid #ffdccc;border-radius:14px;overflow:hidden;box-shadow:0 4px 10px rgba(0,0,0,0.05);background-color:#fff5ec;">
          <!-- é è¨­åœ–ç‰‡ç•™ç™½å€ï¼Œä½¿ç”¨è€…å¯æ›¿æ›ç‚ºå¥åº·æ„è±¡åœ–ï¼›ç‚ºé¿å…å¹²æ“¾ä¸»æ¨™é¡Œï¼Œä¿æŒé©ä¸­é«˜åº¦ -->
          <!-- ä½¿ç”¨æ–°ä¸Šå‚³çš„å•å·æ¸¬é©—åœ–ç‰‡ä½œç‚ºé¦–é  Hero åœ–æ¡ˆ -->
          <img src="assets/images/å•å·æ¸¬é©—.png" alt="BeBetter hero image" style="width:100%;height:260px;object-fit:cover;display:block;">
        </div>
        <button id="start-btn" class="hero-btn" style="background-color:var(--primary-color);color:#fff;padding:0.9rem 1.8rem;border:none;border-radius:10px;font-size:1rem;cursor:pointer;transition:background-color 0.25s ease;">
          ç«‹å³é–‹å§‹æª¢æ¸¬
        </button>
      </div>
    </div>
    <!-- å•é¡Œå€åŸŸ -->
    <div id="question-area" class="hidden">
      <!-- æç¤ºæ¡† -->
      <div id="hint-box"></div>
      <!-- é€²åº¦æ¢ -->
      <div id="progress" class="progress hidden">
        <div id="progress-inner"></div>
      </div>
      <!-- é¡¯ç¤ºç›®å‰é¡Œæ•¸ / ç¸½é¡Œæ•¸çš„æ¨™ç±¤ -->
      <div id="progress-label" class="progress-label hidden"></div>
      <!-- é¡¯ç¤ºé€²åº¦é»çš„å®¹å™¨ï¼Œä¾é¡Œæ•¸ç”Ÿæˆå°åœ“é» -->
      <div id="progress-dots" class="progress-dots hidden"></div>
      <h3 id="question"></h3>
      <div id="options"></div>
      <div id="feedback" class="feedback hidden"></div>
      <div id="next-container" class="hidden">
        <button id="next-btn" class="next-btn">ä¸‹ä¸€é¡Œ</button>
      </div>
    </div>
    <!-- çµæœé¡¯ç¤ºå€åŸŸ -->
    <div id="result-area" class="hidden">
      <!-- ä½¿ç”¨è€…æ•…äº‹æ•˜è¿°å€ï¼šæ ¹æ“šé¸æ“‡è‡ªå‹•ç”Ÿæˆï¼Œç½®æ–¼çµæœæœ€ä¸Šæ–¹ -->
      <div id="story-box" class="hidden" style="background-color:#fff5ec;border:1px solid #ffdccc;border-radius:12px;padding:1.4rem 1.2rem;margin:1.6rem auto;max-width:680px;box-sizing:border-box;text-align:center;"></div>
      <!-- çµæœå¡ç‰‡ï¼šé¡¯ç¤ºä¸»åˆ†é¡ã€æè¿°èˆ‡å¿ƒç†åˆ†æ -->
      <div class="result-card">
        <div class="result-header"></div>
      <!-- çµæœåœ–ç‰‡å€ï¼šé¡¯ç¤ºå°æ‡‰ä¸»åˆ†é¡çš„æ’åœ– -->
      <div class="result-image-container" style="width:100%;margin:1rem auto 1.4rem;border:1px solid #ffdccc;border-radius:12px;overflow:hidden;box-shadow:0 2px 8px rgba(0,0,0,0.05);">
        <!-- ä½¿ç”¨ object-fit: contain è®“åœ–ç‰‡å®Œæ•´å‘ˆç¾æ¯”ä¾‹ï¼Œé¿å…è¢«è£åˆ‡ã€‚ -->
        <!-- å°‡å®¹å™¨é«˜åº¦è‡ªé©æ‡‰ï¼Œè¨­å®šæœ€å¤§é«˜åº¦ï¼Œä¿æŒåœ–ç‰‡å®Œæ•´é¡¯ç¤º -->
        <img id="result-image" src="" alt="çµæœé¡å‹åœ–ç‰‡" style="width:100%;height:auto;max-height:350px;object-fit:contain;">
      </div>
        <div class="result-title" id="result-title"></div>
        <div class="result-description" id="result-description"></div>
        <div class="result-description" id="result-analysis"></div>
        <div class="result-description" id="result-reassure"></div>
      </div>
      <!-- èªªæ˜ä¸‹è¼‰çµæœå¡çš„å€å¡Š -->
      <div id="download-info">
        <p><strong>ç‚ºä»€éº¼è¦ä¸‹è¼‰çµæœå¡ï¼Ÿ</strong></p>
        <p>é€™å¼µå°ˆå±¬çµæœå¡è©³ç´°ç´€éŒ„ä½ çš„é¸æ“‡èˆ‡å¿ƒç†åˆ†æï¼Œå®ƒæ˜¯ä½ æ¸›è„‚æ—…ç¨‹çš„ä¸€å€‹ç¯€é»ï¼Œè®“ä½ éš¨æ™‚æé†’è‡ªå·±å¾å“ªè£¡å‡ºç™¼ã€èµ°éå“ªäº›å›°é›£ã€‚</p>
        <button id="download-btn" class="download-btn">ä¸‹è¼‰çµæœå¡</button>
      </div>
      <!-- èªªæ˜ä¸€å°ä¸€è«®è©¢çš„é‡è¦æ€§ -->
      <div id="consultation-section">
        <p><strong>ç‚ºä»€éº¼è¦ä¾†ä¸€å°ä¸€è«®è©¢ï¼Ÿ</strong></p>
        <p>å¦‚æœä½ é¡˜æ„ç‚ºäº†è‡ªå·±é–‹å§‹æ”¹è®Šï¼Œç¾åœ¨å°±å¯ä»¥é ç´„æˆ‘å€‘çš„ä¸€å°ä¸€ç‡Ÿé¤Šé¡§å•è«®è©¢ã€‚å°ˆæ¥­ç‡Ÿé¤Šå¸«æœƒå”åŠ©ä½ æ‰¾åˆ°çœŸæ­£çš„å‹•æ©Ÿèˆ‡æ˜ç¢ºçš„ç›®æ¨™ã€‚</p>
        <p>é€™æ˜¯æ¸›è„‚éç¨‹æœ€é‡è¦çš„äº‹æƒ…ï¼Œå› ç‚ºæœ‰äº†ç›®æ¨™æ‰èƒ½çŸ¥é“å¾€å“ªè£¡èµ°ï¼›æœ‰äº†å‹•æ©Ÿï¼Œæ‰æœ‰åŠ›é‡åœ¨å›°é›£æ™‚ç¹¼çºŒå‰é€²ï¼Œé‚£å€‹ç›®æ¨™ï¼Œå°±æ˜¯ä½ å¿ƒä¸­çš„åŒ—æ¥µæ˜Ÿã€‚</p>
        <p>é€™å ´è«®è©¢éå¸¸å¯¶è²´ï¼Œå…¨ç¨‹ç·šä¸Šé€²è¡Œï¼Œæ¡ä¸€å°ä¸€æœå‹™ï¼Œæ¯ä¸€ä½è«®è©¢éƒ½æ˜¯æ”¶è²»çš„å°ˆæ¥­æœå‹™â€”â€”<strong>ä½†ç¾åœ¨ä½ å¯ä»¥å…è²»é ç´„ä¸€æ¬¡</strong>ã€‚</p>
        <a id="consult-link" class="consult-btn" href="https://243112.typeform.com/to/skpdVy" target="_blank" rel="noopener noreferrer">ç«‹å³é ç´„è«®è©¢</a>
      </div>
      <!-- Skool ä»‹ç´¹å€ -->
      <div id="skool-info">
        <p><strong>ç¾åœ¨åŠ å…¥ Skoolï¼Œä¸€èµ·æ”¹è®Š</strong></p>
        <p>æˆ‘å€‘çš„ 3C æ¸›è„‚æ³•å°ˆç‚ºç¸½æ˜¯å¾©èƒ–æˆ–æ²’æ™‚é–“çš„ä¸Šç­æ—æ‰“é€ ï¼Œå¹«ä½ æ‰¾åˆ°é©åˆè‡ªå·±çš„ç˜¦èº«ç¯€å¥ï¼Œä¸å†é æ„å¿—åŠ›ç¡¬æ’ï¼Œä¹Ÿèƒ½å¥åº·ç˜¦ä¸‹ä¾†ã€‚</p>
        <ul>
          <li>âœ… 28 å¤©çœ‹åˆ°æˆæœï¼Œ90 å¤©åŸ¹é¤Šä¸å¾©èƒ–é«”è³ª</li>
          <li>âœ… æ¯é€± 1 ä»»å‹™å¾ªåºæ¼¸é€²ï¼šå…ˆåšåˆ° â†’ å†ææ‡‚ â†’ åšå‡ºçµæœ</li>
          <li>âœ… ç‡Ÿé¤Šå¸«é™ªè·‘ï¼‹ç›´æ’­ç­”ç–‘ï¼Œæ²’æœ‰äººå†å­¤è»å¥®æˆ°</li>
          <li>âœ… 3,000+ ä½çœŸå¯¦è¦‹è­‰ï¼ŒçœŸæ­£åšåˆ°ã€Œä¸å†åå½ˆã€</li>
        </ul>
        <p><strong>å®Œæ•´è³‡æºåŒ…å«ï¼š</strong></p>
        <div class="resource-grid">
          <div class="resource-card">
            <div style="font-size:1.6rem;">ğŸ“˜</div>
            <h4>3C æ¸›è„‚æ³•èª²ç¨‹æ¶æ§‹</h4>
            <p>ç”¨å°ç¯€å¥ï¼Œè®“èº«é«”é–‹å§‹æ”¹è®Š</p>
          </div>
          <div class="resource-card">
            <div style="font-size:1.6rem;">ğŸ±</div>
            <h4>å¤–é£Ÿ / å±…å®¶æ­é…æ¸…å–®</h4>
            <p>7-11 ä¹Ÿèƒ½åƒå¾—å¥åº·ç˜¦</p>
          </div>
          <div class="resource-card">
            <div style="font-size:1.6rem;">ğŸ¬</div>
            <h4>30+ è·Ÿåšå½±ç‰‡</h4>
            <p>æœ‰äººé™ªä½ ä¸€æ­¥æ­¥å®Œæˆ</p>
          </div>
          <div class="resource-card">
            <div style="font-size:1.6rem;">ğŸ“</div>
            <h4>ç‡Ÿé¤Šå¸«ç¾¤ç­”ç–‘ï¼‹å°ˆå®¶ç›´æ’­</h4>
            <p>ä½ ä¸å†ä¸€å€‹äºº</p>
          </div>
          <div class="resource-card">
            <div style="font-size:1.6rem;">ğŸ“</div>
            <h4>æ¯é€±ä»»å‹™æ‰“å¡æ©Ÿåˆ¶</h4>
            <p>å¹«ä½ èµ°å®Œ 12 é€±ï¼Œä¸å†æ”¾æ£„</p>
          </div>
          <div class="resource-card">
            <div style="font-size:1.6rem;">ğŸ†</div>
            <h4>æˆæœé©—æ”¶ï¼‹ç­‰ç´šåˆ¶åº¦</h4>
            <p>çœ‹åˆ°è®ŠåŒ–ã€æ„Ÿå—è‡ªä¿¡</p>
          </div>
        </div>
        <!-- CTA é«˜äº®å‘ˆç¾å€å¡Š -->
        <div class="cta-highlight">
          <h4>ğŸ§¡ æœ€é‡è¦çš„æ˜¯ï¼š</h4>
          <!-- ä½¿ç”¨ flex æ’ç‰ˆï¼šå·¦å´é¡¯ç¤ºèª²ç¨‹ç‰¹é»èˆ‡ CTAï¼Œå³å´é¡¯ç¤ºå‰å¾Œè®ŠåŒ–å‹•ç•« -->
          <div class="cta-row">
            <div class="cta-content">
              <ul>
                <li><span>ğŸ”¥</span>æ¯é€±åªåšä¸€ä»¶äº‹ï¼Œä¸æœƒç—›è‹¦</li>
                <li><span>ğŸŒ±</span>ä¸éœ€è¦é¦¬ä¸Šæ”¹è®Šå…¨éƒ¨ç¿’æ…£ï¼Œæ–°æ‰‹ä¹Ÿèƒ½å…¥é–€</li>
                <li><span>ğŸ’°</span>æœˆè²»åªè¦ $4ï¼ˆç¾é‡‘ï¼‰ï¼Œæ¯”ä¸€é¤é‚„ä¾¿å®œ</li>
              </ul>
              <p style="margin:0.6rem 0 1rem;">åŠ å…¥å°±èƒ½ç²å¾—é€™äº›åƒ¹å€¼è¶…é NT$29,980 çš„è³‡æºã€‚</p>
              <a href="https://www.skool.com/bebetter/about?ref=70c9688e53ea4c4a9612b7e4be2bf17c" target="_blank" rel="noopener noreferrer" class="special-cta">ç”¨ä¸€å€‹ä¾¿ç•¶çš„è²»ç”¨é–‹å§‹æ”¹è®Š</a>
            </div>
            <div class="cta-image">
              <!-- è½‰è®Šç¤ºæ„åœ–ï¼šå‰å¾Œå°æ¯”ï¼Œä½¿ç”¨äº¤æ›¿å‹•ç•«å‘ˆç¾èª²ç¨‹å¸¶ä¾†çš„æ”¹è®Š -->
              <div class="trans-animation">
                <img class="before" src="assets/images/Gemini_Generated_Image_ufereluferelufer.png" alt="before transformation">
                <img class="after" src="assets/images/Gemini_Generated_Image_t8pftat8pftat8pf.png" alt="after transformation">
              </div>
            </div>
          </div>
        </div>
      </div>
      <button id="restart-btn" class="next-btn" style="margin-top: 2rem;">é‡æ–°é–‹å§‹</button>
    </div>
  </div>

  <script>
    // å•é¡Œèˆ‡é¸é …å®šç¾©
    // å®šç¾©å•å·å•é¡Œï¼šæ”¹ç‚ºå›ºå®šé †åºçš„å¤šé¡Œæ¸¬é©—ï¼Œè®“ç”¨æˆ¶èƒ½å›ç­”æ›´å¤šé¢å‘ï¼ˆå…± 7 é¡Œï¼‰
    const questions = {
      Q1: {
        text: 'æœ€è¿‘è®“ä½ æœ€å›°æ“¾çš„æ˜¯ä»€éº¼ï¼Ÿ',
        options: [
          { id: 'A', text: 'æˆ‘å¾ˆé›£æ§åˆ¶é£²é£Ÿé‡ï¼ˆå¤–é£Ÿ/èšé¤å¤ªå¤šï¼‰' },
          { id: 'B', text: 'æˆ‘å¸¸å¸¸ç´€éŒ„å¹¾å¤©å°±æ–·æ‰ï¼Œè¦ºå¾—éº»ç…©' },
          { id: 'C', text: 'æˆ‘é‹å‹•ä¸ç©©å®šï¼Œä¸­æ–·å¾Œå¾ˆé›£å†æ¢å¾©' },
          { id: 'D', text: 'æˆ‘åœ¨èšé¤æˆ–ç¤¾äº¤å ´åˆå¾ˆå®¹æ˜“å¤±æ§' },
          { id: 'E', text: 'æˆ‘çš„é«”é‡å¡ä½ä¸å‹•ï¼Œè®“æˆ‘å¾ˆç„¦æ…®' },
        ]
      },
      Q2: {
        text: 'ç•¶ä½ ã€Œå¤±æ§ã€æ™‚ï¼Œä½ é€šå¸¸æœƒæ€éº¼æƒ³ï¼Ÿ',
        options: [
          { id: 'slip', text: 'åæ­£éƒ½å£äº†ï¼Œä¹¾è„†ç¹¼çºŒæ”¾ç¸±' },
          { id: 'broken', text: 'ä¸€æ—¦ä¸­æ–·ï¼Œå°±è¦ºå¾—è‡ªå·±å¤±æ•—ï¼Œä¹¾è„†æ”¾æ£„' },
          { id: 'delay', text: 'å‘Šè¨´è‡ªå·±ã€Œä¹‹å¾Œå†è£œã€ï¼Œä½†å¸¸å¸¸æ²’æœ‰ä¹‹å¾Œ' },
          { id: 'compensate', text: 'æˆ‘æœƒç«‹åˆ»è£œæ•‘ï¼ˆéš”å¤©å°‘åƒ/å¤šé‹å‹•ï¼‰' },
        ]
      },
      Q3: {
        text: 'é‹å‹•æ–¹é¢ï¼Œä½ è¦ºå¾—æœ€è²¼è¿‘çš„æ˜¯ï¼Ÿ',
        options: [
          { id: 'allOrNothing', text: 'å¦‚æœä¸èƒ½å®Œæ•´é‹å‹•ï¼Œå°±ä¹¾è„†ä¸åš' },
          { id: 'schedule', text: 'å¸¸å¸¸è¨ˆåŠƒå¥½ï¼Œä½†ä¸€å¿™å°±å®Œå…¨æ²’å‹•' },
          { id: 'restart', text: 'æœ‰åšéä¸€é™£å­ï¼Œä½†ä¸€æ–·æ‰å°±å¾ˆé›£å›ä¾†' },
        ]
      },
      Q4: {
        text: 'èšé¤ä¹‹å¾Œï¼Œä½ é€šå¸¸çš„å¿ƒæƒ…æ˜¯ï¼Ÿ',
        options: [
          { id: 'disaster', text: 'å¾ˆç½ªæƒ¡ï¼Œè¦ºå¾—åŠªåŠ›å…¨æ¯€' },
          { id: 'loseControl', text: 'å‘Šè¨´è‡ªå·±ã€Œæ²’é—œä¿‚ã€ï¼Œä½†å¾ˆé›£æ‹‰å›ä¾†' },
          { id: 'accept', text: 'æˆ‘èƒ½æ¥å—ï¼Œé€™æ˜¯ç”Ÿæ´»çš„ä¸€éƒ¨åˆ†' },
        ]
      },
      Q5: {
        text: 'ç•¶é«”é‡åœä½æ™‚ï¼Œä½ çš„ç¬¬ä¸€åæ‡‰æ˜¯ï¼Ÿ',
        options: [
          { id: 'worthless', text: 'ã€Œæ˜¯ä¸æ˜¯æˆ‘æ²’ç”¨äº†ï¼Ÿã€' },
          { id: 'giveUp', text: 'ã€Œå†åŠªåŠ›ä¹Ÿæ²’ç”¨ã€' },
          { id: 'understand', text: 'ã€Œé«”é‡æ²’æ‰ï¼Œä½†è…°åœæˆ–é«”æ…‹é‚„åœ¨è®Šã€' },
        ]
      },
      Q6: {
        text: 'ä½ èªç‚ºè‡ªå·±åœ¨æ¸›è„‚éç¨‹ä¸­æœ€å¤§çš„æŒ‘æˆ°æ˜¯ä»€éº¼ï¼Ÿ',
        options: [
          { id: 'lackPersistence', text: 'ç¼ºä¹æ†å¿ƒï¼Œå¸¸åŠé€”è€Œå»¢' },
          { id: 'socialTemptation', text: 'æŠ—æ‹’ä¸äº†ç¤¾äº¤/èšé¤èª˜æƒ‘' },
          { id: 'tooBusy', text: 'å¤ªå¿™æ²’æœ‰æ™‚é–“è¨ˆç•«' },
          { id: 'lackGuidance', text: 'ç¼ºä¹å°ˆæ¥­æŒ‡å°ï¼Œä¸çŸ¥é“æ€éº¼åš' },
        ]
      },
      Q7: {
        text: 'ä½ å°è‡ªå·±çš„ç¡çœ å“è³ªè©•åˆ†å¦‚ä½•ï¼Ÿ',
        options: [
          { id: 'poorSleep', text: 'ç¶“å¸¸ç¡çœ ä¸è¶³æˆ–ç¡ä¸å¥½' },
          { id: 'averageSleep', text: 'å¶çˆ¾ç¡ä¸å¥½ï¼Œä½†é‚„å¯ä»¥' },
          { id: 'goodSleep', text: 'ç¡çœ è‰¯å¥½ï¼Œç²¾ç¥é£½æ»¿' },
        ]
      }
      ,
      // æ–°å¢é¡Œç›®ï¼šæ¯æ—¥é£²æ°´é‡
      Q8: {
        text: 'ä½ æ¯å¤©å¹³å‡é£²æ°´é‡å¤§ç´„å¤šå°‘ï¼Ÿ',
        options: [
          { id: 'waterLow', text: 'ä¸è¶³ 1 å…¬å‡' },
          { id: 'waterModerate', text: '1â€“1.5 å…¬å‡' },
          { id: 'waterGood', text: '1.5â€“2 å…¬å‡' },
          { id: 'waterHigh', text: 'è¶…é 2 å…¬å‡' },
        ]
      },
      // æ–°å¢é¡Œç›®ï¼šæƒ…ç·’éšœç¤™
      Q9: {
        text: 'ä½ è¦ºå¾—åœ¨æ¸›è„‚éç¨‹ä¸­ï¼Œæœ€å¤§çš„æƒ…ç·’éšœç¤™æ˜¯ä»€éº¼ï¼Ÿ',
        options: [
          { id: 'anxiety', text: 'å®¹æ˜“ç„¦æ…®' },
          { id: 'frustration', text: 'å®¹æ˜“æ²®å–ª' },
          { id: 'lackMotivation', text: 'ç¼ºä¹å‹•æ©Ÿ' },
          { id: 'lackSupport', text: 'æ²’æœ‰æœ‹å‹æ”¯æŒ' },
        ]
      }
    };

    // å•é¡Œé †åºåˆ—è¡¨
    // å°‡é¡Œç›®æ“´å……åˆ° 9 é¡Œï¼Œæä¾›æ›´å®Œæ•´çš„è©•ä¼°é«”é©—
    const questionOrder = ['Q1','Q2','Q3','Q4','Q5','Q6','Q7','Q8','Q9'];

    // ä¸»åˆ†é¡å°æ‡‰æ–‡å­—
    const mainResults = {
      A: {
        title: 'ç†±é‡æ§åˆ¶ä¸ä½å‹',
        description: 'ä½ æ˜¯ä¸€ä½ç¾é£Ÿæ¢ç´¢è€…ï¼Œå¤–é£Ÿæˆ–èšé¤æ™‚å®¹æ˜“å¤±å®ˆï¼Œå› ç‚ºä½ é‡è¦–ç”Ÿæ´»èˆ‡äººéš›çš„é€£çµã€‚',
      },
      B: {
        title: 'é£²é£Ÿç´€éŒ„æ–·æ‰å‹',
        description: 'ä½ æ˜¯å€‹è¿½æ±‚å®Œç¾çš„äººï¼Œå°ç´€éŒ„æœ‰å¾ˆé«˜æ¨™æº–ï¼Œä¸€æ—¦æ–·æ‰å°±æ„Ÿåˆ°æ²®å–ªã€‚',
      },
      C: {
        title: 'é‹å‹•ä¸æŒçºŒå‹',
        description: 'ä½ æ˜¯ä¸€ä½å¿™ç¢Œçš„è¡Œå‹•å®¶ï¼Œé‹å‹•ç¿’æ…£å¸¸è¢«è¡Œç¨‹æ‰“äº‚ï¼Œé€™ä»£è¡¨ä½ å°ç”Ÿæ´»æœ‰å¤šå…ƒçš„è¿½æ±‚ã€‚',
      },
      D: {
        title: 'ç¤¾äº¤å½±éŸ¿å‹',
        description: 'ä½ é‡è¦–äººéš›é—œä¿‚ï¼Œåœ¨èšé¤æˆ–ç¤¾äº¤å ´åˆå®¹æ˜“ç†±æƒ…éé ­ï¼Œäº‹å¾Œæœƒæ„Ÿåˆ°å…§ç–šã€‚',
      },
      E: {
        title: 'é«”é‡åœæ»¯ç„¦æ…®å‹',
        description: 'ä½ éå¸¸åœ¨ä¹æˆæœï¼Œä¸€æ—¦é«”é‡åœä½ä¾¿å®¹æ˜“ç„¦æ…®ï¼Œè¦ºå¾—è‡ªå·±çš„åŠªåŠ›è¢«å¦å®šã€‚',
      },
    };

    // å°æ‡‰æ¯å€‹ä¸»é¡å‹çš„åœ–ç‰‡è·¯å¾‘ï¼Œç”¨æ–¼çµæœé é¡¯ç¤ºåŠä¸‹è¼‰å¡ç‰‡
    // å°æ‡‰æ¯å€‹ä¸»é¡å‹çš„åœ–ç‰‡è·¯å¾‘ï¼Œç”¨æ–¼çµæœé é¡¯ç¤ºåŠä¸‹è¼‰å¡ç‰‡ã€‚
    // ä½¿ç”¨ç›¸å°è·¯å¾‘æŒ‡å‘ assets è³‡æ–™å¤¾ï¼Œé€™æ¨£éƒ¨ç½²åˆ° GitHub Pages æ™‚èƒ½æ­£ç¢ºè¼‰å…¥ã€‚
    const resultImages = {
      A: 'assets/images/ç†±é‡æ§åˆ¶ä¸ä½å‹.png',
      B: 'assets/images/é£²é£Ÿç´€éŒ„æ–·æ‰å‹.png',
      C: 'assets/images/é‹å‹•ä¸æŒçºŒå‹.png',
      D: 'assets/images/ç¤¾äº¤å½±éŸ¿å‹.png',
      E: 'assets/images/é«”é‡åœæ»¯ç„¦æ…®å‹.png'
    };

    // å¿ƒç†åå·®å°æ‡‰å¥å­
    const psycheSentences = {
      slip: 'ä½ æœ‰æ™‚æœƒå› ç‚ºä¸€æ¬¡å¤±èª¤å°±ä¹¾è„†æ”¾ç¸±ï¼Œé€™æ˜¯æ­£å¸¸çš„å¿ƒç†åæ‡‰ï¼Œé¡¯ç¤ºä½ å°å¿«æ¨‚çš„è¿½æ±‚ã€‚',
      broken: 'ä½ å°æ–¼ç´€éŒ„æ“æœ‰å¾ˆé«˜æ¨™æº–ï¼Œå°è‡´ä¸€æ—¦å‡ºç¾æ¼æ´å°±è¦ºå¾—å…¨ç›¤å¤±æ•—ã€‚é€™åæ˜ äº†ä½ å°å®Œç¾çš„è¿½æ±‚ã€‚',
      delay: 'ä½ æœƒå‘Šè¨´è‡ªå·±ä¹‹å¾Œå†èª¿æ•´ï¼Œä½†å¸¸å¸¸å› ç‚ºç”Ÿæ´»å¿™ç¢Œè€Œæ‹–å»¶ï¼Œé€™ä»£è¡¨éœ€è¦æ›´ç°¡å–®çš„æ­¥é©Ÿã€‚',
      compensate: 'ä½ é¡˜æ„é€ééš”å¤©å°‘åƒæˆ–å¤šé‹å‹•ä¾†è£œæ•‘å¤±æ§ï¼Œé€™é¡¯ç¤ºå‡ºä½ å°å¥åº·çš„è‡ªæˆ‘è² è²¬ã€‚',
      allOrNothing: 'ä½ å°é‹å‹•æŠ±æŒè‘—å…¨æœ‰å…¨ç„¡çš„å¿ƒæ…‹ï¼Œè¦ºå¾—åšä¸åˆ°æœ€å¥½å°±ä¹¾è„†ä¸åšã€‚',
      schedule: 'ä½ çš„ç”Ÿæ´»ç¯€å¥å¾ˆå¿«ï¼Œå¸¸è®“è¨ˆåŠƒå—é˜»ã€‚å­¸æœƒèª¿æ•´è¨ˆåŠƒèƒ½è®“ä½ æ›´è¼•é¬†ã€‚',
      restart: 'ä½ æ›¾ç¶“æœ‰é‹å‹•ç¿’æ…£ï¼Œä½†åœä¸‹ä¾†ä¹‹å¾Œå¾ˆé›£å†é–‹å§‹ï¼Œå…¶å¯¦åªéœ€è¦å¾çŸ­æ™‚é–“æ¢å¾©ã€‚',
      disaster: 'ä½ æŠŠèšé¤è¦–ç‚ºç½é›£ï¼Œå®¹æ˜“çµ¦è‡ªå·±éå¤§çš„å£“åŠ›ã€‚å­¸æœƒäº«å—ä¸¦å¹³è¡¡å°‡æœ‰å¹«åŠ©ã€‚',
      loseControl: 'ä½ å‘Šè¨´è‡ªå·±æ²’é—œä¿‚ï¼Œå»å¸¸å¸¸ç„¡æ³•åŠæ™‚æ‹‰å›ï¼Œä»£è¡¨ä½ éœ€è¦æ›´å¤šæ”¯æŒã€‚',
      accept: 'ä½ èƒ½æ¥å—èšé¤æ˜¯ç”Ÿæ´»çš„ä¸€éƒ¨åˆ†ï¼Œé€™æ˜¯ä¸€ç¨®å¥åº·çš„å¿ƒæ…‹ã€‚',
      worthless: 'ä½ å®¹æ˜“å°‡é«”é‡èˆ‡è‡ªæˆ‘åƒ¹å€¼é€£çµï¼Œé€™æœƒå½±éŸ¿ä½ çš„ä¿¡å¿ƒã€‚',
      giveUp: 'ä½ è¦ºå¾—å†åŠªåŠ›ä¹Ÿä¸æœƒæœ‰è®ŠåŒ–ï¼Œé€™æ˜¯å¹³å°æœŸæ™‚çš„å¸¸è¦‹è¿·æ€ã€‚',
      understand: 'ä½ ç†è§£å¹³å°æœŸæ˜¯æ­£å¸¸ç¾è±¡ï¼Œä¸¦èƒ½å¾å…¶ä»–æŒ‡æ¨™çœ‹åˆ°é€²æ­¥ã€‚',
      // ä»¥ä¸‹ç‚ºå»¶ä¼¸é¡Œç›®å¿ƒç†æ¨™ç±¤è§£æ
      // é£²æ°´ç¿’æ…£
      waterLow: 'ä½ çš„é£²æ°´é‡åä½ï¼Œå»ºè­°å¢åŠ é£²æ°´é‡ä»¥ä¿ƒé€²æ–°é™³ä»£è¬èˆ‡é£½è¶³æ„Ÿã€‚',
      waterModerate: 'ä½ çš„é£²æ°´é‡ä¸­ç­‰ï¼Œå¶çˆ¾ç•™æ„è£œå……èƒ½è®“ä½ èº«é«”æ©Ÿèƒ½æ›´å¥½ã€‚',
      waterGood: 'ä½ æœ‰è‰¯å¥½çš„é£²æ°´ç¿’æ…£ï¼Œèƒ½å¹«åŠ©é«”å…§ä»£è¬èˆ‡æ§åˆ¶é£Ÿæ…¾ã€‚',
      waterHigh: 'ä½ çš„é£²æ°´é‡å……è¶³ï¼Œé€™å°æ–¼ç¶­æŒæ–°é™³ä»£è¬èˆ‡å¥åº·éå¸¸æœ‰ç›Šã€‚',
      // æƒ…ç·’éšœç¤™
      anxiety: 'ä½ å®¹æ˜“æ„Ÿåˆ°ç„¦æ…®ï¼Œé€™å¯èƒ½èˆ‡å°æˆæœçš„æœŸå¾…æˆ–å°æœªçŸ¥çš„æ“”æ†‚æœ‰é—œã€‚',
      frustration: 'ä½ å®¹æ˜“æ²®å–ªï¼Œå¯èƒ½å› ç‚ºæœªå¦‚é æœŸçš„é€²å±•è€Œæ„Ÿåˆ°æŒ«æŠ˜ã€‚',
      lackMotivation: 'ä½ è¦ºå¾—ç¼ºä¹å‹•æ©Ÿï¼Œæç¤ºä½ éœ€è¦æ‰¾åˆ°æ›´å¼·çƒˆçš„ç›®æ¨™èˆ‡æ”¯æŒã€‚',
      lackSupport: 'ä½ æ„Ÿè¦ºç¼ºä¹æœ‹å‹çš„æ”¯æŒï¼Œç¤¾ç¾¤é™ªä¼´èƒ½çµ¦ä½ æ›´å¤šåŠ›é‡ã€‚'
    };

    // æ•…äº‹æ•˜è¿°å°æ‡‰å¥å­ï¼šå°‡ç”¨æˆ¶çš„é¸æ“‡è½‰æ›æˆå€‹äººåŒ–æ•˜è¿°ï¼Œç”¨æ–¼çµæœé é¡¯ç¤º
    const storySentences = {
      // ä¸»åˆ†é¡æ•˜è¿°
      A: 'ä½ æ˜¯ä¸€ä½ç¾é£Ÿæ¢ç´¢è€…ï¼Œå–œæ­¡å¤–é£Ÿèˆ‡èšæœƒï¼Œé£²é£Ÿæ§åˆ¶æˆç‚ºä½ æœ€å¤§çš„èª²é¡Œã€‚',
      B: 'ä½ è¿½æ±‚å®Œç¾ï¼Œç•¶ç´€éŒ„æ²’æœ‰å®Œå…¨åšåˆ°æ™‚å°±å®¹æ˜“è‡ªè²¬ã€‚',
      C: 'ä½ å¿™ç¢Œçš„ç”Ÿæ´»è®“é‹å‹•è®Šå¾—å›°é›£ï¼Œé‹å‹•ç¿’æ…£å¸¸å¸¸ä¸­æ–·ã€‚',
      D: 'ä½ ç†±æ„›ç¤¾äº¤ï¼Œåœ¨èšé¤å ´åˆå®¹æ˜“å¤±æ§ï¼Œä½†åˆå……æ»¿ç½ªæƒ¡æ„Ÿã€‚',
      E: 'ä½ éå¸¸åœ¨ä¹é«”é‡çš„æ•¸å­—ï¼Œç•¶æ•¸å­—åœæ»¯æ™‚æ„Ÿåˆ°ç„¦æ…®ã€‚',
      // å¿ƒç†åæ‡‰æ•˜è¿°
      slip: 'ç•¶ä½ å¤±æ§æ™‚ï¼Œä½ å®¹æ˜“æœ‰ç ´ç½å­ç ´æ‘”çš„å¿µé ­ã€‚',
      broken: 'ä½ å°ç´€éŒ„è¦æ±‚å®Œç¾ï¼Œè¦ºå¾—ä¸€æ—¦æ–·æ‰å°±å‰åŠŸç›¡æ£„ã€‚',
      delay: 'ä½ å¸¸èªªä¹‹å¾Œå†è£œæ•‘ï¼Œä½†ç¾å¯¦ç¸½æ˜¯ä¾†ä¸åŠã€‚',
      compensate: 'ä½ é¡˜æ„é€éè£œå„Ÿä¾†èª¿æ•´ï¼Œé¡¯ç¤ºä½ å°å¥åº·çš„è‡ªæˆ‘è² è²¬ã€‚',
      // é‹å‹•ç›¸é—œ
      allOrNothing: 'ä½ å°é‹å‹•æœ‰å…¨æœ‰å…¨ç„¡çš„æƒ³æ³•ï¼Œä¸å¤ å®Œç¾ä¹¾è„†ä¸åšã€‚',
      schedule: 'ä½ çš„è¡Œç¨‹æ»¿æª”ï¼Œå¸¸å¸¸æ‰“äº‚é‹å‹•è¨ˆåŠƒã€‚',
      restart: 'ä½ é‹å‹•éï¼Œä½†å¾ˆé›£åœ¨ä¸­æ–·å¾Œå†æ¬¡é–‹å§‹ã€‚',
      // èšé¤ç›¸é—œ
      disaster: 'èšé¤å°ä½ è€Œè¨€åƒç½é›£ï¼Œç¸½è®“ä½ å……æ»¿è² ç½ªæ„Ÿã€‚',
      loseControl: 'ä½ å¸¸å‘Šè¨´è‡ªå·±æ²’é—œä¿‚ï¼Œä½†å¾ŒçºŒæ§åˆ¶è®Šå¾—å›°é›£ã€‚',
      accept: 'ä½ æ¥å—èšé¤æ˜¯ç”Ÿæ´»çš„ä¸€éƒ¨åˆ†ï¼Œæ‡‚å¾—å¹³è¡¡äº«å—èˆ‡æ§åˆ¶ã€‚',
      // é«”é‡åœæ»¯ç›¸é—œ
      worthless: 'ç•¶é«”é‡åœæ»¯ä½ æ‡·ç–‘è‡ªå·±çš„åƒ¹å€¼èˆ‡åŠªåŠ›ã€‚',
      giveUp: 'ä½ è¦ºå¾—å†åŠªåŠ›ä¹Ÿæ²’ç”¨ï¼Œå®¹æ˜“å‹•æ–ä½ çš„ä¿¡å¿ƒã€‚',
      understand: 'ä½ çŸ¥é“å¹³å°æœŸæ˜¯éç¨‹çš„ä¸€éƒ¨åˆ†ï¼Œèƒ½å¾å…¶ä»–æŒ‡æ¨™çœ‹åˆ°é€²æ­¥ã€‚',
      // æ–°å¢é¡Œç›®æ•˜è¿°
      lackPersistence: 'ä½ èªç‚ºè‡ªå·±ç¼ºä¹æ†å¿ƒï¼Œå¸Œæœ›èƒ½ç¶­æŒç¿’æ…£ã€‚',
      socialTemptation: 'ä½ é›£ä»¥æŠ—æ‹’ç¤¾äº¤èª˜æƒ‘ï¼Œéœ€è¦ç­–ç•¥ä¾†å¹³è¡¡ã€‚',
      tooBusy: 'ä½ å·¥ä½œå¿™ç¢Œï¼Œæƒ³å°‹æ‰¾ç°¡å–®æœ‰æ•ˆçš„æ¸›è„‚æ–¹å¼ã€‚',
      lackGuidance: 'ä½ æ¸´æœ›å¾—åˆ°å°ˆæ¥­æŒ‡å°ï¼Œè®“ä½ çŸ¥é“æ¥ä¸‹ä¾†è©²æ€éº¼åšã€‚',
      poorSleep: 'ä½ æ™‚å¸¸ç¡ä¸å¥½ï¼Œé€™å½±éŸ¿äº†ä½ çš„èº«å¿ƒç‹€æ…‹ã€‚',
      averageSleep: 'ä½ çš„ç¡çœ å¶çˆ¾å—å½±éŸ¿ï¼Œæé†’ä½ æ³¨æ„ä¼‘æ¯ã€‚',
      goodSleep: 'ä½ ç¡çœ å……è¶³ï¼Œæ“æœ‰è‰¯å¥½çš„èº«å¿ƒåŸºç¤ã€‚',
      // é£²æ°´ç¿’æ…£æ•˜è¿°
      waterLow: 'ä½ é£²æ°´é‡åä½ï¼Œéœ€è¦å¤šå–æ°´ä¿æŒä»£è¬èˆ‡é£½è¶³æ„Ÿã€‚',
      waterModerate: 'ä½ çš„é£²æ°´é‡ä¸­ç­‰ï¼Œé©åº¦è£œå……å¯å¢é€²å¥åº·ã€‚',
      waterGood: 'ä½ æœ‰è‰¯å¥½çš„é£²æ°´ç¿’æ…£ï¼Œé€™æœ‰åŠ©æ–¼æ–°é™³ä»£è¬ã€‚',
      waterHigh: 'ä½ çš„é£²æ°´é‡å……è¶³ï¼Œç‚ºå¥åº·æä¾›è‰¯å¥½åŸºç¤ã€‚',
      // æƒ…ç·’éšœç¤™æ•˜è¿°
      anxiety: 'ä½ æœ‰ç„¦æ…®å‚¾å‘ï¼Œéœ€è¦æ‰¾åˆ°æ¸›å£“æ–¹æ³•èˆ‡ä¿¡ä»»è‡ªå·±ã€‚',
      frustration: 'ä½ å®¹æ˜“æ²®å–ªï¼Œéœ€å­¸ç¿’æ­£å‘çœ‹å¾…æš«åœæˆ–æŒ«æŠ˜ã€‚',
      lackMotivation: 'ä½ ç¼ºä¹å‹•æ©Ÿï¼Œéœ€è¦æ‰¾åˆ°ä»¤ä½ ç†±è¡€çš„ç›®æ¨™ã€‚',
      lackSupport: 'ä½ è¦ºå¾—ç¼ºä¹æ”¯æŒï¼Œéœ€è¦ç¤¾ç¾¤é¼“å‹µèˆ‡é™ªä¼´ã€‚'
    };

    // æ ¹æ“šç”¨æˆ¶çš„ä¸»é¡å‹èˆ‡å„é¸é …æ¨™ç±¤ç”Ÿæˆå€‹æ€§åŒ–æ•˜è¿°æ•…äº‹
    function generateStory() {
      const storyBoxEl = document.getElementById('story-box');
      if (!storyBoxEl) return;
      const sentences = [];
      // ä¸»é¡å‹æ•˜è¿°
      if (storySentences[mainType]) {
        sentences.push(storySentences[mainType]);
      }
      // å…¶ä»–æ¨™ç±¤æ•˜è¿°
      tags.forEach(tag => {
        if (storySentences[tag]) {
          sentences.push(storySentences[tag]);
        }
      });
      if (sentences.length > 0) {
        // é¿å…é‡è¤‡å¥å­
        const uniqueSentences = sentences.filter((item, index) => sentences.indexOf(item) === index);
        // å°‡å¥å­ä¸²æ¥æˆæ®µè½
        let combined = uniqueSentences.join(' ');
        // åœ¨ä¸­æ–‡æ¨™é»å¾Œæ’å…¥æ›è¡Œç¬¦è™Ÿï¼Œæå‡é–±è®€æ€§
        combined = addLineBreaks(combined);
        storyBoxEl.innerHTML = '<p><strong>ä½ çš„æ•…äº‹</strong></p><p>' + combined + '</p>';
        storyBoxEl.classList.remove('hidden');
      } else {
        storyBoxEl.classList.add('hidden');
      }
    }

    // åœ¨ä¸­æ–‡å¥è™Ÿæˆ–å•è™Ÿå¾Œæ’å…¥æ›è¡Œç¬¦è™Ÿ
    function addLineBreaks(text) {
      if (!text) return '';
      // å°‡å¥è™Ÿã€å•è™Ÿå¾Œé¢åŠ å…¥æ›è¡Œç¬¦è™Ÿ
      return text
        // å°‡å¥è™Ÿå¾Œçš„ç©ºç™½ä¸€èµ·æ›¿æ›ç‚ºæ›è¡Œ
        .replace(/ã€‚\s*/g, 'ã€‚\n')
        .replace(/ï¼Ÿ\s*/g, 'ï¼Ÿ\n');
    }

    // æç¤ºæ–‡å­—
    const feedbackPhrases = {
      A: 'å¾ˆå¤šäººéƒ½æœ‰é¡ä¼¼çš„å›°æ“¾ï¼Œä¸ç”¨æ“”å¿ƒã€‚',
      B: 'ç´€éŒ„ä¸­æ–·å¾ˆæ­£å¸¸ï¼Œç­‰ç­‰æœƒå‘Šè¨´ä½ æ€éº¼èª¿æ•´å¿ƒæ…‹ã€‚',
      C: 'é‹å‹•ç¿’æ…£éœ€è¦æ™‚é–“åŸ¹é¤Šï¼Œæˆ‘å€‘ä¸€èµ·æ‰¾åˆ°é©åˆä½ çš„æ–¹å¼ã€‚',
      D: 'ç¤¾äº¤èˆ‡èšé¤æ˜¯ç”Ÿæ´»çš„ä¸€éƒ¨åˆ†ï¼Œæ‰¾åˆ°å¹³è¡¡æ˜¯é—œéµã€‚',
      E: 'é«”é‡å¡ä½æ˜¯æ¸›è„‚éç¨‹çš„ä¸€ç’°ï¼Œè€å¿ƒæ˜¯é—œéµã€‚'
    };

let currentQuestion = null;
let currentIndex = 0;
let mainType = null;
let tags = [];
// å„²å­˜ä½¿ç”¨è€…é¸æ“‡çš„æ–‡å­—å…§å®¹ï¼Œä¾›æ•…äº‹æˆ–çµæœå¡ç‰‡ä½¿ç”¨
let selectedTexts = [];

    // é€²åº¦é»å…ƒç´ ï¼šé¡¯ç¤ºæ¯ä¸€é¡Œä½ç½®çš„å°åœ“é»
    const progressDots = document.getElementById('progress-dots');

    // (å·²ç§»é™¤) é™¤éŒ¯èˆ‡éŒ¯èª¤æç¤ºä»£ç¢¼ï¼Œç¢ºä¿ç”Ÿç”¢ç’°å¢ƒä¸é¡¯ç¤ºå½ˆçª—

    // é€²åº¦æ¢ç›¸é—œè®Šæ•¸ï¼šç”¨æ–¼è¨ˆç®—èˆ‡é¡¯ç¤ºé€²åº¦
    let stepCounter = 0;
    let totalSteps = 0;

    const intro = document.getElementById('intro');
    const questionArea = document.getElementById('question-area');
    const resultArea = document.getElementById('result-area');
    const questionEl = document.getElementById('question');
    const optionsEl = document.getElementById('options');
    const feedbackEl = document.getElementById('feedback');
    // é¡¯ç¤ºæç¤ºæ–‡å­—çš„æ¡†
    const hintBox = document.getElementById('hint-box');
    const nextContainer = document.getElementById('next-container');
    const nextBtn = document.getElementById('next-btn');
    const downloadBtn = document.getElementById('download-btn');

    // é€²åº¦æ¢å…ƒç´ 
    const progress = document.getElementById('progress');
    const progressInner = document.getElementById('progress-inner');
    // é€²åº¦æ¨™ç±¤ï¼Œç”¨æ–¼é¡¯ç¤ºç•¶å‰é¡Œæ•¸ / ç¸½é¡Œæ•¸
    const progressLabel = document.getElementById('progress-label');

    // å•Ÿå‹•æ¸¬é©—
    document.getElementById('start-btn').addEventListener('click', () => {
      intro.classList.add('hidden');
      questionArea.classList.remove('hidden');
      // é¡¯ç¤ºé€²åº¦æ¢èˆ‡é€²åº¦æ¨™ç±¤ä¸¦é‡ç½®
      progress.classList.remove('hidden');
      progressLabel.classList.remove('hidden');
      stepCounter = 0;
      totalSteps = 0;
      progressInner.style.width = '0%';
      progressLabel.textContent = '';
      startQuiz();
    });

    // é‡æ–°é–‹å§‹
    document.getElementById('restart-btn').addEventListener('click', () => {
      resultArea.classList.add('hidden');
      intro.classList.remove('hidden');
      mainType = null;
      tags = [];
      // éš±è—é€²åº¦æ¢èˆ‡æ¨™ç±¤
      progress.classList.add('hidden');
      progressLabel.classList.add('hidden');
      if (progressDots) {
        progressDots.classList.add('hidden');
      }
    });

    function startQuiz() {
      // é‡ç½®è®Šæ•¸
      currentIndex = 0;
      currentQuestion = questionOrder[currentIndex];
      mainType = null;
      tags = [];
      selectedTexts = [];
      // éš±è—æ•…äº‹å€åŸŸ
      const storyBoxEl = document.getElementById('story-box');
      if (storyBoxEl) storyBoxEl.classList.add('hidden');
      // è¨­å®šç¸½æ­¥é©Ÿæ•¸
      totalSteps = questionOrder.length;
      stepCounter = 0;
      progressInner.style.width = '0%';
      renderQuestion();
      // ç”Ÿæˆé€²åº¦é»ä¸¦é¡¯ç¤ºå®¹å™¨
      if (progressDots) {
        createProgressDots();
        progressDots.classList.remove('hidden');
      }
      // é¡¯ç¤ºé€²åº¦æ¢èˆ‡é€²åº¦æ¨™ç±¤
      if (progress) {
        progress.classList.remove('hidden');
      }
      if (progressLabel) {
        progressLabel.classList.remove('hidden');
      }
    }

    function renderQuestion() {
      const q = questions[currentQuestion];
      questionEl.textContent = q.text;
      optionsEl.innerHTML = '';
      feedbackEl.classList.add('hidden');
      hintBox.style.display = 'none';
      nextContainer.classList.add('hidden');
      nextBtn.onclick = null;
      q.options.forEach((opt) => {
        const btn = document.createElement('button');
        btn.className = 'option';
        btn.textContent = opt.text;
        btn.addEventListener('click', () => handleAnswer(btn, opt.id));
        optionsEl.appendChild(btn);
      });
      // å•é¡Œæ·¡å…¥æ•ˆæœ
      questionArea.classList.add('fade-in');
      setTimeout(() => questionArea.classList.remove('fade-in'), 500);
    }

    function handleAnswer(buttonEl, optionId) {
      // ç¬¬ä¸€é¡Œï¼šè¨­å®šä¸»åˆ†é¡ä¸¦é¡¯ç¤ºæç¤º
      if (currentIndex === 0) {
        mainType = optionId;
        hintBox.textContent = feedbackPhrases[optionId];
        hintBox.style.display = 'block';
      }
      // è¨˜éŒ„æ¨™ç±¤
      tags.push(optionId);
      // è¨˜éŒ„é¸é …æ–‡å­—ï¼ˆç”¨æ–¼æ•…äº‹åŠçµæœå¡ï¼‰
      const qObj = questions[currentQuestion];
      const textObj = qObj.options.find(o => o.id === optionId);
      if (textObj) selectedTexts.push(textObj.text);
      // é«˜äº®æ‰€é¸é …
      Array.from(optionsEl.children).forEach((btn) => btn.classList.remove('selected'));
      buttonEl.classList.add('selected');
      // æ›´æ–°é€²åº¦
      stepCounter = currentIndex + 1;
      updateProgress();
      // åˆ¤æ–·æ˜¯å¦é‚„æœ‰ä¸‹ä¸€é¡Œ
      const hasNext = currentIndex < questionOrder.length - 1;
      showNextButton(hasNext);
    }

    function showNextButton(hasNext) {
      // é¡¯ç¤ºä¸‹ä¸€é¡Œæˆ–æŸ¥çœ‹çµæœæŒ‰éˆ•ï¼Œä¸¦è¨­å®šæ–‡å­—
      setTimeout(() => {
        nextBtn.textContent = hasNext ? 'ä¸‹ä¸€é¡Œ' : 'æŸ¥çœ‹çµæœ';
        nextContainer.classList.remove('hidden');
        // ç§»é™¤èˆŠäº‹ä»¶ï¼Œé‡æ–°ç¶å®š
        nextBtn.onclick = null;
        nextBtn.onclick = () => {
          nextContainer.classList.add('hidden');
          if (hasNext) {
            currentIndex += 1;
            currentQuestion = questionOrder[currentIndex];
            hintBox.style.display = 'none';
            renderQuestion();
          } else {
            showLoadingAndResult();
          }
        };
      }, 150);
    }

    function showResult() {
      questionArea.classList.add('hidden');
      resultArea.classList.remove('hidden');
      // é€²åº¦æ¢å¡«æ»¿ä¸¦éš±è—æ¨™ç±¤
      stepCounter = totalSteps;
      updateProgress();
      if (progressLabel) {
        progressLabel.classList.add('hidden');
      }
      // çµ„åˆçµæœ
      const result = mainResults[mainType];
      document.getElementById('result-title').textContent = result.title;
      // æè¿°
      document.getElementById('result-description').textContent = addLineBreaks(result.description);
      // å¿ƒç†åˆ†ææ–‡å­—
      let analysis = '';
      tags.forEach((tag) => {
        if (psycheSentences[tag]) {
          analysis += psycheSentences[tag] + ' ';
        }
      });
      analysis = analysis.trim();
      document.getElementById('result-analysis').textContent = addLineBreaks(analysis);
      // å®‰æ’«æ–‡å­—
      let reassure = '';
      if (mainType === 'A') {
        reassure = 'é€™ä¸æ˜¯å¤±æ•—ï¼Œè€Œæ˜¯éå¸¸æ™®éçš„å›°é›£ã€‚ä½ å°ç”Ÿæ´»å¾ˆæœ‰ç†±æƒ…ï¼Œåªéœ€å­¸ç¿’ä¸€äº›å¹³è¡¡çš„æ–¹æ³•ã€‚';
      } else if (mainType === 'B') {
        reassure = 'ä½ å…¶å¯¦å¾ˆåœ¨ä¹çµæœï¼Œåªæ˜¯ç´€éŒ„æ–¹å¼éœ€è¦èª¿æ•´ã€‚å°æ­¥é€£çºŒæ¯”å®Œç¾æ›´é‡è¦ã€‚';
      } else if (mainType === 'C') {
        reassure = 'ä¸éœ€è¦ä¸€é–‹å§‹å°±å®Œç¾ï¼Œä»»ä½•æ™‚é–“çš„é‹å‹•éƒ½æ˜¯é€²æ­¥ã€‚';
      } else if (mainType === 'D') {
        reassure = 'ç¤¾äº¤æ˜¯ç”Ÿæ´»çš„ä¸€éƒ¨åˆ†ï¼Œä¸€æ¬¡èšé¤ä¸æœƒæ¯€æ‰ä½ çš„åŠªåŠ›ï¼Œé‡è¦çš„æ˜¯æ…‹åº¦ã€‚';
      } else if (mainType === 'E') {
        reassure = 'å¹³å°æœŸæ˜¯æ­£å¸¸ç¾è±¡ï¼Œä½ é‚„æœ‰å¾ˆå¤šå…¶ä»–æ–¹é¢åœ¨é€²æ­¥ï¼Œè«‹çµ¦è‡ªå·±æ™‚é–“ã€‚';
      }
      document.getElementById('result-reassure').textContent = addLineBreaks(reassure);
      // çµæœé¡¯ç¤ºå®Œæˆå¾Œå¯åŸ·è¡Œå…¶ä»–æ“ä½œ

      // éš±è—é€²åº¦é»å®¹å™¨ï¼Œå› ç‚ºæ¸¬é©—å·²å®Œæˆ
      if (progressDots) {
        progressDots.classList.add('hidden');
      }

      // è¨­å®šçµæœåœ–ç‰‡
      const resultImgEl = document.getElementById('result-image');
      if (resultImgEl && resultImages[mainType]) {
        resultImgEl.src = resultImages[mainType];
      }
      // æ ¹æ“šä¸»é¡å‹èª¿æ•´çµæœå¡ç‰‡è‰²èª¿ï¼Œä¾‹å¦‚ B é¡å‹ä½¿ç”¨æ›´æŸ”å’Œçš„æ¨™é ­é¡è‰²
      const headerEl = document.querySelector('.result-header');
      if (headerEl) {
        if (mainType === 'B') {
          // å°‡æ¨™é ­åº•è‰²èª¿æ·¡ï¼Œé¿å…éæ–¼é®®è±”ï¼Œä¸¦æ¡ç”¨æ›´æŸ”å’Œçš„æ©™è‰²
          headerEl.style.backgroundColor = 'rgba(239, 169, 59, 0.25)';
        } else {
          // å…¶ä»–é¡å‹æ¢å¾©ç‚ºé è¨­è¼”åŠ©è‰²
          const rootStyles = getComputedStyle(document.documentElement);
          const accentClr = rootStyles.getPropertyValue('--accent-color');
          headerEl.style.backgroundColor = accentClr.trim();
        }
      }
      // ç”Ÿæˆä¸¦é¡¯ç¤ºä½¿ç”¨è€…æ•…äº‹
      generateStory();
    }

    // é¡¯ç¤ºè¼‰å…¥è¦†è“‹å±¤ä¸¦æ–¼çŸ­æš«å»¶é²å¾Œé¡¯ç¤ºçµæœ
    function showLoadingAndResult() {
      const loading = document.getElementById('loading');
      // é¡¯ç¤ºè¦†è“‹å±¤ï¼Œä¸¦é—œé–‰å•é¡Œå€åŸŸ
      loading.style.display = 'flex';
      questionArea.classList.add('hidden');
      setTimeout(() => {
        // éš±è—è¦†è“‹å±¤
        loading.style.display = 'none';
        showResult();
      }, 600);
    }

    // ç”Ÿæˆä¸¦ä¸‹è¼‰çµæœå¡ç‰‡ï¼ˆæ”¹ç‚ºç•°æ­¥ï¼Œç¢ºä¿åœ–ç‰‡è¼‰å…¥å®Œæˆï¼‰
    async function downloadCard() {
      // å–å¾—çµæœé åœ–åƒä¾†æºï¼šå„ªå…ˆä½¿ç”¨çµæœé å·²è¼‰å…¥çš„åœ–ç‰‡
      let imgSrc = '';
      const resultImgDOM = document.getElementById('result-image');
      if (resultImgDOM && resultImgDOM.src) {
        imgSrc = resultImgDOM.src;
      } else if (resultImages[mainType]) {
        imgSrc = resultImages[mainType];
      }
      // è¼‰å…¥åœ–ç‰‡çš„è¼”åŠ©å‡½å¼
      const loadImage = (src) => {
        return new Promise((resolve, reject) => {
          const image = new Image();
          /*
           * è‹¥ç¶²ç«™èˆ‡åœ–ç‰‡ä¾†æºç‚ºåŒä¸€ç¶²åŸŸï¼ˆGitHub Pages ä¸Šå‡ç‚ºåŒåŸŸï¼‰ï¼Œ
           * ä¸å¿…è¨­å®š crossOrigin å±¬æ€§ï¼Œå¦å‰‡ç€è¦½å™¨å¯èƒ½å›  CORS é ­è¨­å®šä¸ç¬¦
           * è€Œå°‡åœ–ç‰‡æ¨™è¨˜ç‚º taintedï¼Œå°è‡´ Canvas API ç„¡æ³•å°å‡ºè³‡æ–™ã€‚
           */
          image.onload = () => resolve(image);
          image.onerror = reject;
          image.src = src;
        });
      };
      let loadedImg = null;
      if (imgSrc) {
        try {
          loadedImg = await loadImage(imgSrc);
        } catch (_) {
          loadedImg = null;
        }
      }
      // å»ºç«‹ç•«å¸ƒä¸¦åŠ å¤§é«˜åº¦ä»¥å®¹ç´æ›´å¤šæ®µè½
      const canvas = document.createElement('canvas');
      const width = 820;
      const height = 820;
      canvas.width = width;
      canvas.height = height;
      const ctx = canvas.getContext('2d');
      // è®€å–æ¨£å¼é¡è‰²
      const rootStyles = getComputedStyle(document.documentElement);
      const primary = rootStyles.getPropertyValue('--primary-color');
      const primaryDark = rootStyles.getPropertyValue('--primary-dark');
      const accent = rootStyles.getPropertyValue('--accent-color');
      const textColor = rootStyles.getPropertyValue('--text-color');
      // èƒŒæ™¯å¡«å……
      ctx.fillStyle = primary.trim();
      ctx.fillRect(0, 0, width, height);
      // ç™½è‰²å¡ç‰‡å€åŸŸ
      const margin = 40;
      const cardW = width - margin * 2;
      const cardH = height - margin * 2;
      const radius = 16;
      ctx.fillStyle = '#ffffff';
      ctx.beginPath();
      ctx.moveTo(margin + radius, margin);
      ctx.lineTo(margin + cardW - radius, margin);
      ctx.quadraticCurveTo(margin + cardW, margin, margin + cardW, margin + radius);
      ctx.lineTo(margin + cardW, margin + cardH - radius);
      ctx.quadraticCurveTo(margin + cardW, margin + cardH, margin + cardW - radius, margin + cardH);
      ctx.lineTo(margin + radius, margin + cardH);
      ctx.quadraticCurveTo(margin, margin + cardH, margin, margin + cardH - radius);
      ctx.lineTo(margin, margin + radius);
      ctx.quadraticCurveTo(margin, margin, margin + radius, margin);
      ctx.closePath();
      ctx.fill();
      // æ©«æ¢é»ç¶´
      const barHeight = 10;
      // å°æ–¼ B å‹ä½¿ç”¨è¼ƒæ·¡çš„é¡è‰²ï¼Œé¿å…éæ–¼æ¶çœ¼
      ctx.fillStyle = (mainType === 'B') ? 'rgba(239,169,59,0.3)' : accent.trim();
      ctx.fillRect(margin, margin, cardW, barHeight);
      const centerX = margin + cardW / 2;
      // æ¨™é¡Œ
      ctx.textAlign = 'center';
      ctx.fillStyle = primaryDark.trim();
      ctx.font = 'bold 28px sans-serif';
      ctx.fillText('å¡é—œæª¢æ¸¬å°ˆå±¬å ±å‘Š', centerX, margin + 42);
      // ä¸»é¡å‹æ¡†
      const typeText = mainResults[mainType].title;
      ctx.font = 'bold 36px sans-serif';
      const typePaddingH = 14;
      const typeTextWidth = ctx.measureText(typeText).width;
      const typeRectW = typeTextWidth + typePaddingH * 2;
      const typeRectH = 46;
      const typeRectX = centerX - typeRectW / 2;
      const typeRectY = margin + 60;
      // å¦‚æœæ˜¯ B å‹ï¼Œä½¿ç”¨ç¨æ·¡çš„çŸ©å½¢åº•è‰²
      ctx.fillStyle = (mainType === 'B') ? 'rgba(239,169,59,0.6)' : accent.trim();
      ctx.fillRect(typeRectX, typeRectY, typeRectW, typeRectH);
      ctx.fillStyle = primaryDark.trim();
      ctx.textBaseline = 'middle';
      ctx.fillText(typeText, centerX, typeRectY + typeRectH / 2);
      // ç¹ªè£½åœ–ç‰‡ï¼šä¿æŒæ¯”ä¾‹
      let imageDrawnHeight = 0;
      if (loadedImg) {
        const maxImgW = cardW - 160;
        const maxImgH = 240;
        const imgRatio = loadedImg.width / loadedImg.height;
        let drawW = maxImgW;
        let drawH = drawW / imgRatio;
        if (drawH > maxImgH) {
          drawH = maxImgH;
          drawW = drawH * imgRatio;
        }
        const imgX = centerX - drawW / 2;
        const imgY = typeRectY + typeRectH + 20;
        ctx.drawImage(loadedImg, imgX, imgY, drawW, drawH);
        imageDrawnHeight = drawH;
      }
      // æ–‡å­—å…§å®¹æº–å‚™
      const description = mainResults[mainType].description || '';
      const analysis = document.getElementById('result-analysis').textContent || '';
      const reassure = document.getElementById('result-reassure').textContent || '';
      const splitSentences = (str) => {
        if (!str) return [];
        return str.split('ã€‚').map(s => s.trim()).filter(s => s.length > 0).map(s => s + 'ã€‚');
      };
      const descSentences = splitSentences(description);
      const analysisSentences = splitSentences(analysis);
      const reassureSentences = splitSentences(reassure);
      // æ–‡å­—æ¨£å¼
      ctx.textAlign = 'left';
      ctx.fillStyle = textColor.trim();
      const textMaxW = cardW - 160;
      // èµ·å§‹y
      let yPos = (typeRectY + typeRectH + 20) + imageDrawnHeight + 30;
      const sectionGap = 20;
      // Section Helper
      function drawSection(title, sentences) {
        ctx.font = 'bold 20px sans-serif';
        ctx.fillStyle = primaryDark.trim();
        ctx.fillText(title, margin + 80, yPos);
        yPos += 26;
        ctx.font = '18px sans-serif';
        ctx.fillStyle = textColor.trim();
        sentences.forEach((sent, idx) => {
          if (title === 'æ¦‚è¿°' && idx === 0) {
            const lines = wrapText(ctx, sent, textMaxW);
            let highlightW = 0;
            lines.forEach(l => {
              const w = ctx.measureText(l).width;
              if (w > highlightW) highlightW = w;
            });
            const padX = 8;
            const highlightH = 26;
            // äº®å¥èƒŒæ™¯ï¼šæ ¹æ“šé¡å‹é¸æ“‡é€æ˜åº¦
            const hlColor = (mainType === 'B') ? 'rgba(239,169,59,0.06)' : 'rgba(239,169,59,0.08)';
            ctx.fillStyle = hlColor;
            ctx.fillRect(margin + 80, yPos - 18, highlightW + padX * 2, highlightH);
            ctx.fillStyle = textColor.trim();
            lines.forEach(l => {
              ctx.fillText(l, margin + 80 + padX, yPos);
              yPos += 24;
            });
          } else {
            const lines = wrapText(ctx, sent, textMaxW);
            lines.forEach(l => {
              ctx.fillText(l, margin + 80, yPos);
              yPos += 24;
            });
          }
        });
        yPos += sectionGap;
      }
      // ç¹ªè£½å„å€å¡Š
      if (descSentences.length > 0) {
        drawSection('æ¦‚è¿°', descSentences);
      }
      if (analysisSentences.length > 0) {
        drawSection('å¿ƒç†åˆ†æ', analysisSentences);
      }
      if (reassureSentences.length > 0) {
        drawSection('å»ºè­°', reassureSentences);
      }
      // ä¸‹è¼‰åœ–æª”
      /*
       * ä½¿ç”¨ canvas.toBlob() æ­é… URL.createObjectURL ä¾†ç”¢ç”Ÿå¯ä¸‹è¼‰é€£çµã€‚
       * é€™ç¨®æ–¹å¼æ¯”ç›´æ¥ä½¿ç”¨ toDataURL æ›´ç©©å®šï¼Œä¸”é¿å…é•·åº¦éé•·çš„ base64 è³‡æ–™ã€‚
       */
      canvas.toBlob((blob) => {
        const blobUrl = URL.createObjectURL(blob);
        const link = document.createElement('a');
        link.download = 'result_card.png';
        link.href = blobUrl;
        link.style.display = 'none';
        // åœ¨æŸäº›ç€è¦½å™¨ï¼ˆä¾‹å¦‚ GitHub Pages ä¸‹ï¼‰ç›´æ¥ä¸‹è¼‰å¯èƒ½æœƒè¢«æ””æˆªï¼Œè¨­ç½® target='_blank' å¯ç¢ºä¿èƒ½é–‹å•Ÿæ–°æ¨™ç±¤è®“ä½¿ç”¨è€…å¦å­˜
        link.target = '_blank';
        document.body.appendChild(link);
        link.click();
        document.body.removeChild(link);
        // ä¸ç«‹å³ revokeï¼Œè®“æ–°æ¨™ç±¤é èƒ½å®Œæ•´è¼‰å…¥
        setTimeout(() => {
          URL.revokeObjectURL(blobUrl);
        }, 1000);
      }, 'image/png');
    }

    // æ–‡å­—æ›è¡Œè¼”åŠ©å‡½å¼
    function wrapText(ctx, text, maxWidth) {
      const words = text.split(/\s+/);
      const lines = [];
      let currentLine = '';
      words.forEach((word) => {
        const testLine = currentLine + word + ' ';
        const metrics = ctx.measureText(testLine);
        if (metrics.width > maxWidth && currentLine !== '') {
          lines.push(currentLine.trim());
          currentLine = word + ' ';
        } else {
          currentLine = testLine;
        }
      });
      if (currentLine.trim() !== '') {
        lines.push(currentLine.trim());
      }
      return lines;
    }

    // å‹•æ…‹ç”Ÿæˆé€²åº¦é»ï¼šæ ¹æ“šé¡Œç›®æ•¸é‡å»ºç«‹å°åœ“é»
    function createProgressDots() {
      if (!progressDots) return;
      progressDots.innerHTML = '';
      for (let i = 0; i < totalSteps; i++) {
        const dot = document.createElement('div');
        dot.className = 'dot';
        progressDots.appendChild(dot);
      }
      updateProgressDots();
    }

    // æ›´æ–°é€²åº¦é»ï¼šå°‡ç•¶å‰é¡Œç›®æ¨™è¨˜ç‚º active
    function updateProgressDots() {
      if (!progressDots) return;
      const dots = progressDots.querySelectorAll('.dot');
      dots.forEach((dot, index) => {
        // ä½¿ç”¨ stepCounter-1 è¡¨ç¤ºå·²ç­”é¡Œç›®ç´¢å¼•ï¼ˆå¾ 0 é–‹å§‹ï¼‰
        dot.classList.toggle('active', index === stepCounter - 1);
      });
    }

    // æ›´æ–°é€²åº¦æ¢å¯¬åº¦
    function updateProgress() {
      if (totalSteps > 0) {
        const percent = (stepCounter / totalSteps) * 100;
        progressInner.style.width = percent + '%';
        // æ›´æ–°é€²åº¦æ¨™ç±¤é¡¯ç¤ºï¼šç¬¬ X é¡Œ / å…± Y é¡Œ
        if (progressLabel) {
          progressLabel.textContent = `ç¬¬ ${stepCounter} é¡Œ / å…± ${totalSteps} é¡Œ`;
        }
        // æ›´æ–°é€²åº¦é»æ¨£å¼
        updateProgressDots();
      } else {
        progressInner.style.width = '0%';
        if (progressLabel) {
          progressLabel.textContent = '';
        }
      }
    }

    // ç¶å®šä¸‹è¼‰æŒ‰éˆ•äº‹ä»¶
    downloadBtn.addEventListener('click', downloadCard);
  </script>
</body>
</html>